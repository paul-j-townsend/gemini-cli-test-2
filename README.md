
â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—
â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•
â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•     â–ˆâ–ˆâ•‘   â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•—
 â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—
  â•šâ•â•â•â•  â•šâ•â•â•â•â•â•â•   â•šâ•â•   â•šâ•â•â•â•â•â•â•â•šâ•â•â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â• â•šâ•â•â•â•â•â•â•šâ•â•  â•šâ•â•

# VetSidekick CPD Platform

A comprehensive veterinary education platform providing podcast-based continuing professional development (CPD) with interactive quizzes, progress tracking, and gamification features. Built with Next.js 14, TypeScript, and Supabase.

## âœ¨ Key Features

### ğŸ§ **Restructured Podcast Experience**

- **Compact Episode Cards**: Streamlined design with audio previews and click-through navigation
- **Series Organization**: Episodes grouped by category (Zoonoses, Surgery, Emergency Medicine, etc.)
- **Collapsible Series**: Expandable sections with episode counts and descriptions
- **Enhanced Player Page**: Dedicated full-featured player with permanent quiz and report buttons

### ğŸ“š **Comprehensive CPD System**

- **Interactive Quizzes**: Multiple-choice questions with detailed explanations and rationale
- **Progress Tracking**: Real-time completion status and scoring with pass/fail indicators
- **Certificate Generation**: Professional PDF certificates for completed courses
- **CPD Reports**: Detailed learning outcome reports for professional development tracking

### ğŸ¯ **Advanced Features**

- **Unified Content Management**: Seamless integration of podcasts, quizzes, and progress tracking
- **Role-Based Access**: Multi-tier permission system (super_admin, admin, editor, user, viewer)
- **Supabase Integration**: Full backend with Row Level Security and real-time updates
- **Responsive Design**: Mobile-first approach optimized for all devices
- **TypeScript**: Complete type safety throughout the application

## ğŸ› ï¸ Tech Stack

### **Frontend**

- **Framework**: Next.js 14.2.30 with App Router
- **Language**: TypeScript with strict mode
- **Styling**: Tailwind CSS v3 with custom design system
- **UI Components**: Custom React components with hooks
- **Audio**: HTML5 audio with advanced controls and progress tracking

### **Backend & Database**

- **Database**: Supabase (PostgreSQL) with Row Level Security
- **Authentication**: Supabase Auth with role-based permissions
- **Storage**: Supabase Storage for audio files and images
- **API**: Next.js API routes with TypeScript
- **Real-time**: Supabase real-time subscriptions

### **Key Services**

- **Quiz Management**: Complete CRUD operations with scoring logic
- **Progress Tracking**: User completion status and achievement system
- **Report Generation**: PDF generation for CPD certificates and reports
- **Content Management**: Unified system for podcasts, quizzes, and articles

## ğŸš€ Getting Started

### Prerequisites

- **Node.js** 18+
- **npm** or **yarn**
- **Supabase Account** (for database and authentication)

### Environment Setup

1. **Clone the repository:**

```bash
git clone https://github.com/paul-j-townsend/gemini-cli-test-2.git
cd gemini-cli-test-2
```

2. **Install dependencies:**

```bash
npm install
```

3. **Configure environment variables:**

```bash
cp .env.local.example .env.local
```

Add your Supabase credentials to `.env.local`:

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
```

4. **Run database migrations:**

```bash
npx supabase migration up
```

5. **Start the development server:**

```bash
npm run dev
```

6. **Open your browser:**
Navigate to [http://localhost:3000](http://localhost:3000)

## ğŸ“ Project Structure

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Layout.tsx                    # Main layout wrapper
â”‚   â”œâ”€â”€ CompactEpisodeCard.tsx        # Streamlined episode cards with preview
â”‚   â”œâ”€â”€ SeriesGroup.tsx               # Collapsible series organization
â”‚   â”œâ”€â”€ PodcastPlayer.tsx             # Full-featured audio player
â”‚   â”œâ”€â”€ Quiz.tsx                      # Interactive quiz component
â”‚   â””â”€â”€ admin/
â”‚       â””â”€â”€ PodcastManagement.tsx     # Admin interface for content
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ _app.tsx                      # App wrapper with user context
â”‚   â”œâ”€â”€ index.tsx                     # Home page
â”‚   â”œâ”€â”€ podcasts.tsx                  # Restructured episodes page
â”‚   â”œâ”€â”€ player.tsx                    # Enhanced player page
â”‚   â”œâ”€â”€ admin.tsx                     # Admin dashboard
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ admin/content.ts          # Unified content management
â”‚       â”œâ”€â”€ quizzes/[id].ts          # Quiz CRUD operations
â”‚       â””â”€â”€ quiz-completions.ts       # Progress tracking
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ podcastService.ts             # Podcast data management
â”‚   â”œâ”€â”€ quizCompletionService.ts      # Quiz completion logic
â”‚   â””â”€â”€ reportGenerator.ts            # PDF certificate/report generation
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useQuizCompletion.ts          # Quiz progress hooks
â”‚   â””â”€â”€ usePodcastManagement.ts       # Podcast admin hooks
â”œâ”€â”€ types/
â”‚   â””â”€â”€ database.ts                   # TypeScript interfaces
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ supabase.ts                   # Supabase client
â”‚   â””â”€â”€ supabase-admin.ts             # Admin client
supabase/
â”œâ”€â”€ migrations/                       # Database schema migrations
â””â”€â”€ seed.sql                         # Initial data setup
```

## ğŸ¨ Design System

### Color Palette

The platform uses a modern, professional color scheme:

Use these in the codebase:

TODO: implement these?

- **Primary Teal**: `#14b8a6`
- **Secondary Teal**: `#2dd4bf`
- **Accent Blue**: `#2563eb`
- **Neutral Gray 100**: `#f3f4f6`
- **Neutral Gray 700**: `#374151`
- **Success Green**: `#22c55e`
- **Warning Orange**: `#f59e42`

### UI Components

- **Cards**: Elevated surfaces with soft shadows and rounded corners
- **Buttons**: Primary, secondary, and ghost variants with hover states
- **Progress Bars**: Visual indicators for audio playback and quiz progress
- **Badges**: Status indicators for quiz completion and episode metadata

## ğŸ› ï¸ Available Scripts

### Development

- `npm run dev` - Start development server (<http://localhost:3000>)
- `npm run build` - Build optimized production bundle
- `npm run start` - Start production server
- `npm run lint` - Run ESLint for code quality

### Database

- `npx supabase start` - Start local Supabase instance
- `npx supabase migration up` - Apply database migrations
- `npx supabase db reset` - Reset database to initial state

## ğŸ“š Content Management

### Current Series

The platform organizes content into veterinary education series:

1. **Zoonoses Series** - Diseases transmissible between animals and humans
2. **General Practice** - Comprehensive veterinary topics
3. **Emergency Medicine** - Critical care and emergency protocols
4. **Surgery** - Advanced surgical techniques and procedures
5. **Nutrition** - Animal nutrition science and dietary management

## ğŸ”§ Development Guide

### Adding New Content

#### Creating Episodes

1. **Access Admin Dashboard**: Navigate to `/admin` with admin permissions
2. **Content Management**: Use the unified content creation interface
3. **Upload Audio**: Use the audio upload functionality for episode files
4. **Create Quiz**: Add interactive quiz questions with explanations
5. **Publish**: Set episode status to published when ready

#### Episode Structure

```typescript
interface PodcastEpisode {
  id: string;
  title: string;
  description: string;
  audio_src: string | null;
  full_audio_src: string | null;
  thumbnail_path: string | null;
  category: string; // Series classification
  episode_number: number;
  season: number;
  published_at: string;
  content_id: string; // Links to quiz
}
```

### Database Schema

#### Key Tables

- **`vsk_content`**: Unified content management (episodes + quizzes)
- **`vsk_content_questions`**: Quiz questions with explanations
- **`vsk_content_question_answers`**: Multiple choice answers
- **`vsk_content_completions`**: User progress and scores
- **`vsk_users`**: User profiles and roles

### API Endpoints

#### Content Management

- `GET /api/admin/content` - Fetch all content
- `POST /api/admin/content` - Create new content
- `PUT /api/admin/content` - Update existing content
- `DELETE /api/admin/content` - Remove content

#### Quiz System

- `GET /api/quizzes/[id]` - Get quiz with questions
- `POST /api/quiz-completions` - Submit quiz answers
- `GET /api/user-progress` - User completion statistics

## ğŸš€ Recent Updates

### v2.0 - Podcast Restructuring (Latest)

- âœ… **Compact Episode Design**: Streamlined cards with audio previews
- âœ… **Series Organization**: Episodes grouped by veterinary specialties
- âœ… **Enhanced Player Page**: Permanent quiz and report buttons
- âœ… **CPD Report Generation**: Professional PDF certificates and reports
- âœ… **Unified Content System**: Seamless podcast-quiz integration
- âœ… **Improved Navigation**: Click-through from preview to full player

### Previous Releases

- **v1.5**: Unified content management system
- **v1.4**: Interactive quiz system with progress tracking
- **v1.3**: Supabase integration and user authentication
- **v1.2**: Audio player enhancements
- **v1.1**: Admin dashboard and content management
- **v1.0**: Initial podcast platform release

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ¤ Contributing

We welcome contributions to improve the VetSidekick platform!

### How to Contribute

1. **Fork** the repository
2. **Create** a feature branch (`git checkout -b feature/amazing-feature`)
3. **Commit** your changes (`git commit -m 'Add amazing feature'`)
4. **Push** to the branch (`git push origin feature/amazing-feature`)
5. **Open** a Pull Request

### Development Guidelines

- Follow TypeScript best practices
- Maintain test coverage for new features
- Use conventional commit messages
- Update documentation for API changes

## ğŸ“ Support

For questions, issues, or feature requests:

- ğŸ“§ **Email**: <support@vetsidekick.com>
- ğŸ› **Issues**: [GitHub Issues](https://github.com/paul-j-townsend/vetsidekick/issues)
- ğŸ“– **Documentation**: [Wiki](https://github.com/paul-j-townsend/vetsidekick/wiki)
